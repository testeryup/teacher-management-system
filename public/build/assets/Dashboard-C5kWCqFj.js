import{j as e,L as k,$ as u}from"./app-BzdOADVP.js";import{A as F,B as h,m as N,T as S,G as V}from"./app-layout-DJJLhKv_.js";import{C as i,a as d,b as a,c as x}from"./card-Cs6Ji-ep.js";import{B as g}from"./badge-D3QJI1i6.js";import{B as p}from"./app-logo-icon-BkO5Ozxv.js";import{C as E}from"./calendar-BR3WW--q.js";import{U as G}from"./users-Mxzx9_FF.js";import{B as U}from"./building-2-elMs-EHZ.js";import"./index-CK31Y0Kf.js";import"./index-C1afcH4J.js";const X=[{title:"Dashboard",href:"/dashboard"}];function J({teacher:n,stats:l,recentClasses:o,recentSalaries:f}){var y,w,A,C,T,B;const c=s=>{if(s==null)return 0;const r=Number(s);return isNaN(r)?0:r},b=s=>{const r=c(s);return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(r)},v=s=>{const r=c(s);return new Intl.NumberFormat("vi-VN").format(r)},D=s=>Array.isArray(s)?s.reduce((r,t)=>r+c(t==null?void 0:t.total_salary),0):0,O=s=>Array.isArray(s)?s.reduce((r,t)=>r+c(t==null?void 0:t.converted_lessons),0):0;return e.jsxs(F,{breadcrumbs:X,children:[e.jsx(k,{title:"Dashboard - Giảng viên"}),e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Chào mừng, ",(n==null?void 0:n.fullName)||"N/A"]}),e.jsxs("p",{className:"text-muted-foreground",children:[((y=n==null?void 0:n.department)==null?void 0:y.name)||"N/A"," • ",((w=n==null?void 0:n.degree)==null?void 0:w.name)||"N/A"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{asChild:!0,variant:"outline",children:e.jsxs(u,{href:"/teacher/classrooms",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Lớp học của tôi"]})}),e.jsx(p,{asChild:!0,children:e.jsxs(u,{href:"/teacher/salary",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Xem lương"]})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(i,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium text-blue-700",children:"Tổng lớp đã dạy"}),e.jsx(h,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:v((l==null?void 0:l.totalClasses)||0)}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Tất cả các lớp học"})]})]}),e.jsxs(i,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium text-green-700",children:"Lớp hiện tại"}),e.jsx(E,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-900",children:v((l==null?void 0:l.currentClasses)||0)}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:((A=l==null?void 0:l.currentSemester)==null?void 0:A.name)||"Chưa có học kỳ"})]})]}),e.jsxs(i,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium text-purple-700",children:"Tổng thu nhập"}),e.jsx(N,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:b((l==null?void 0:l.totalEarnings)||0)}),e.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Tổng lương đã nhận"})]})]}),e.jsxs(i,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium text-orange-700",children:"Hệ số lương"}),e.jsx(S,{className:"h-4 w-4 text-orange-600"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-900",children:c((C=n==null?void 0:n.degree)==null?void 0:C.baseSalaryFactor)}),e.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Theo bằng cấp"})]})]})]}),e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs(a,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Thông tin cá nhân"]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Khoa:"}),e.jsx(g,{variant:"outline",children:((T=n==null?void 0:n.department)==null?void 0:T.abbrName)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Bằng cấp:"}),e.jsx("span",{children:((B=n==null?void 0:n.degree)==null?void 0:B.name)||"N/A"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Email:"}),e.jsx("span",{className:"text-blue-600",children:(n==null?void 0:n.email)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Ngày sinh:"}),e.jsx("span",{children:n!=null&&n.DOB?new Date(n.DOB).toLocaleDateString("vi-VN"):"N/A"})]})]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs(a,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5"}),"Lớp học gần đây"]})}),e.jsx(x,{children:o&&o.length>0?e.jsxs("div",{className:"space-y-3",children:[o.map(s=>{var r,t,m,j,L;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:(s==null?void 0:s.name)||"N/A"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[((r=s==null?void 0:s.course)==null?void 0:r.name)||"N/A"," • ",(s==null?void 0:s.students)||0," sinh viên"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[((t=s==null?void 0:s.semester)==null?void 0:t.name)||"N/A"," - ",((j=(m=s==null?void 0:s.semester)==null?void 0:m.academicYear)==null?void 0:j.name)||"N/A"]})]}),e.jsx(g,{variant:"secondary",children:((L=s==null?void 0:s.course)==null?void 0:L.code)||"N/A"})]},(s==null?void 0:s.id)||Math.random())}),e.jsx("div",{className:"pt-3",children:e.jsx(p,{asChild:!0,variant:"outline",className:"w-full",children:e.jsx(u,{href:"/teacher/classrooms",children:"Xem tất cả lớp học"})})})]}):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(h,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),e.jsx("p",{children:"Chưa có lớp học nào"})]})})]}),e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs(a,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"Lương gần đây"]})}),e.jsx(x,{children:f&&Object.keys(f).length>0?e.jsxs("div",{className:"space-y-4",children:[Object.entries(f).slice(0,3).map(([s,r])=>{const t=D(r),m=O(r),j=Array.isArray(r)?r.length:0;return e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:s||"N/A"}),e.jsxs(g,{variant:"outline",children:[j," lớp"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Tổng lương:"}),e.jsx("span",{className:"font-medium text-green-600",children:b(t)})]}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Tiết quy đổi:"}),e.jsx("span",{children:m.toFixed(1)})]})]})]},s)}),e.jsx("div",{className:"pt-3",children:e.jsx(p,{asChild:!0,variant:"outline",className:"w-full",children:e.jsx(u,{href:"/teacher/salary",children:"Xem chi tiết lương"})})})]}):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(N,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),e.jsx("p",{children:"Chưa có dữ liệu lương"})]})})]})]})]})]})}export{J as default};
